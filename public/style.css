:root{
  --bg:#fafafa;
  --text:#222;
  --muted:#666;
  --primary:#0d6efd;
  --green:#28a745;
  --danger:#dc3545;
  --yellow:#ffe8a1;  /* big lower */
  --red:#ff8888;     /* small lower */
  --booked:#9aa0a6;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background:var(--bg);
  color:var(--text);
}

/* Top bar */
.topbar{
  position:sticky; top:0; z-index:10;
  display:flex; justify-content:space-between; align-items:center;
  padding:10px 16px; background:#fff; border-bottom:1px solid #eaeaea;
}
.topbar .now{font-weight:600}
.topbar .now span{margin-right:10px}
.topbar .actions{display:flex; gap:8px}
.btn{
  padding:10px 14px; border:none; border-radius:8px; cursor:pointer;
  font-weight:600;
}
.btn.primary{background:var(--primary); color:#fff}
.btn.secondary{background:#f1f3f4; color:#111}
.btn.green{background:var(--green); color:#fff}
.btn.danger{background:var(--danger); color:#fff}

/* Terrace layout */
main{padding:16px}
.terrace-wrap h2{margin:10px 0 12px 0; text-align:center}

/* Each row: grid of "Big, Big, Small" repeated 4 times */
.row-grid{
  display:grid;
  grid-template-columns: repeat(4, 150px 150px 90px); /* big,big,small pattern */
  grid-auto-rows: 170px;  /* table height area */
  justify-content:center;
  gap:16px 18px;
  margin-bottom:18px;
}

/* Table boxes */
.table{
  position:relative;
  border-radius:10px;
  border:2px solid #444;
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  text-align:center;
  cursor:pointer;
  transition:transform .08s ease, box-shadow .2s ease;
  user-select:none;
  padding:8px;
  white-space:pre-line;
  line-height:1.15;
  font-weight:700;
}
.table.big.lower{ background:var(--yellow); width:150px; height:170px; }
.table.small.lower{ background:var(--red); width:90px; height:170px; }

.table.free:hover{ transform:scale(1.02); }
.table.selected{ outline:3px dashed var(--primary); }
.table.booked{ background:var(--booked) !important; color:#fff; cursor:pointer; }

/* Text inside table */
.table .tid{font-size:14px; opacity:.9}
.table .tname{font-size:15px; margin-top:4px}
.table .ttime{font-size:13px; opacity:.9}

/* Booking controls (for selection before opening form) */
.booking-controls{
  position:sticky; bottom:8px; z-index:5;
  display:flex; gap:8px; justify-content:center; margin:8px 0;
}

/* Booking panel */
.booking-panel{
  position:sticky; bottom:0; background:#fff; border-top:3px solid var(--primary);
  padding:16px; box-shadow:0 -2px 7px rgba(0,0,0,.12);
}
.booking-panel h3{margin:0 0 10px 0}
.form-row{display:flex; align-items:center; justify-content:space-between; gap:10px; margin:8px 0}
.form-row input, .form-row select{padding:8px 10px; border:1px solid #ccc; border-radius:6px; width:220px}
.panel-actions{display:flex; justify-content:flex-end; gap:10px; margin-top:10px}

.hidden{display:none !important}

/* Popup for table details */
.popup{
  position:fixed; inset:0; background:rgba(0,0,0,.4);
  display:flex; align-items:center; justify-content:center; z-index:30;
}
.popup-content{
  width:320px; background:#fff; border-radius:10px; padding:16px; box-shadow:0 10px 24px rgba(0,0,0,.25);
}
.popup-content h4{margin:0 0 10px 0}
.popup-line{margin:6px 0}
.popup-actions{display:flex; justify-content:flex-end; gap:8px; margin-top:12px}

/* Bottom sheet for reservations */
.sheet{
  position:fixed; left:0; right:0; bottom:0; z-index:25;
  background:#fff; border-top-left-radius:16px; border-top-right-radius:16px;
  box-shadow:0 -8px 24px rgba(0,0,0,.2);
}
.sheet-header{display:flex; justify-content:space-between; align-items:center; padding:12px 16px; border-bottom:1px solid #eee}
.sheet-body{max-height:45vh; overflow:auto; padding:8px 16px}
.res-item{padding:10px 6px; border-bottom:1px dashed #e6e6e6; text-align:left}
.res-item:last-child{border-bottom:none}
.res-title{font-weight:700}
.res-meta{color:var(--muted); font-size:13px; margin-top:2px}